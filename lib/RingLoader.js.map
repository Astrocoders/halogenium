{"version":3,"sources":["../src/RingLoader.jsx"],"names":["rightRotateKeyframes","transform","leftRotateKeyframes","rightRotateAnimationName","leftRotateAnimationName","propTypes","loading","PropTypes","bool","color","string","size","oneOfType","number","margin","ptKeys","Object","keys","RingLoader","getDefaultProps","getCircleStyle","width","height","border","props","opacity","borderRadius","verticalAlign","getAnimationStyle","animation","i","join","animationFillMode","perspective","getStyle","parseInt","position","top","left","renderLoader","assign","klen","length"],"mappings":"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","file":"RingLoader.js","sourcesContent":["import React, { Component } from 'react';\nimport assign from 'domkit/appendVendorPrefix';\nimport insertKeyframesRule from 'domkit/insertKeyframesRule';\n\n/**\n * @type {Object}\n */\nconst rightRotateKeyframes = {\n    '0%': {\n        transform: 'rotateX(0deg) rotateY(0deg) rotateZ(0deg)'\n\n    },\n    '100%': {\n        transform: 'rotateX(180deg) rotateY(360deg) rotateZ(360deg)'\n    }\n};\n\n/**\n * @type {Object}\n */\nconst leftRotateKeyframes = {\n    '0%': {\n        transform: 'rotateX(0deg) rotateY(0deg) rotateZ(0deg)'\n    },\n    '100%': {\n        transform: 'rotateX(360deg) rotateY(180deg) rotateZ(360deg)'\n    }\n};\n\n/**\n * @type {String}\n */\nconst rightRotateAnimationName = insertKeyframesRule(rightRotateKeyframes);\n\n/**\n * @type {String}\n */\nconst leftRotateAnimationName = insertKeyframesRule(leftRotateKeyframes);\n\nconst propTypes = {\n\tloading: React.PropTypes.bool,\n\tcolor: React.PropTypes.string,\n\tsize: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string]),\n\tmargin: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string]),\n};\n\nconst ptKeys = Object.keys(propTypes);\n\nexport default class RingLoader extends Component {\n    /**\n     * @type {Object}\n     */\n    static propTypes = propTypes;\n\n    /**\n     * @return {Object}\n     */\n    getDefaultProps = () => ({\n        loading: true,\n        color: '#ffffff',\n        size: '60px'\n    })\n\n    /**\n     * @param {String} size\n     * @return {Object}\n     */\n    getCircleStyle = size => ({\n        width: size,\n        height: size,\n        border: size/10 +'px solid ' + this.props.color,\n        opacity: 0.4,\n        borderRadius: '100%',\n        verticalAlign: this.props.verticalAlign\n    })\n\n    /**\n     * @param  {Number} i\n     * @return {Object}\n     */\n    getAnimationStyle = i => {\n        const animation = [ i == 1 ? rightRotateAnimationName : leftRotateAnimationName, '2s', '0s', 'infinite', 'linear'].join(' ');\n        const animationFillMode = 'forwards';\n        const perspective = '800px';\n\n        return {\n            perspective: perspective,\n            animation: animation,\n            animationFillMode: animationFillMode\n        };\n    }\n\n    /**\n     * @param  {Number} i\n     * @return {Object}\n     */\n    getStyle = i => {\n        const size = parseInt(this.props.size);\n\n        if (i) {\n            return assign(\n\t\t\t\t{\n\t\t\t\t\tborder: '0px solid transparent' // fix firefox/chrome/opera rendering\n\t\t\t\t},\n                this.getCircleStyle(size),\n                this.getAnimationStyle(i),\n                {\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                }\n            );\n        }\n\n        return {\n            width: size,\n            height: size,\n            position: 'relative',\n\t\t\tborder: '0px solid transparent' // fix firefox/chrome/opera rendering\n        };\n    }\n\n    /**\n     * @param  {Boolean} loading\n     * @return {ReactComponent || null}\n     */\n    renderLoader = loading => {\n        if (loading) {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (propTypes && ptKeys) {\n\t\t\t\tconst klen = ptKeys.length;\n\t\t\t\tfor (let i = 0; i < klen; i++) {\n\t\t\t\t\tdelete props[ptKeys[i]];\n\t\t\t\t}\n\t\t\t}\n\n            return (\n\t\t\t\t<div {...props}>\n                    <div style={this.getStyle(0)}>\n                        <div style={this.getStyle(1)}></div>\n                        <div style={this.getStyle(2)}></div>\n                    </div>\n                </div>\n            );\n        }\n\n        return null;\n    }\n\n    render() {\n        return this.renderLoader(this.props.loading);\n    }\n}\n"]}