{"version":3,"sources":["../src/PacmanLoader.jsx"],"names":["animations","propTypes","loading","bool","color","string","size","oneOfType","number","margin","ptKeys","Object","keys","PacmanLoader","getDefaultProps","getBallStyle","backgroundColor","props","width","height","borderRadius","verticalAlign","border","getAnimationStyle","animationName","keyframes","opacity","transform","animation","i","join","animationFillMode","getStyle","s1","s2","borderRight","borderTop","borderLeft","borderBottom","position","top","left","renderLoader","style","fontSize","assign","klen","length"],"mappings":"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","file":"PacmanLoader.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport assign from 'domkit/appendVendorPrefix';\nimport insertKeyframesRule from 'domkit/insertKeyframesRule';\n\n/**\n * @type {Object}\n */\nconst animations = {};\n\nconst propTypes = {\n\tloading: PropTypes.bool,\n\tcolor: PropTypes.string,\n\tsize: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\tmargin: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nconst ptKeys = Object.keys(propTypes);\n\nexport default class PacmanLoader extends Component {\n\tstatic propTypes = propTypes;\n\n    /**\n     * @return {Object}\n     */\n    getDefaultProps = () => ({\n        loading: true,\n        color: '#ffffff',\n        size: 25,\n        margin: 2,\n    })\n\n    /**\n     * @return {Object}\n     */\n    getBallStyle = () => ({\n        backgroundColor: this.props.color,\n        width: this.props.size,\n        height: this.props.size,\n        margin: this.props.margin,\n        borderRadius: '100%',\n        verticalAlign: this.props.verticalAlign,\n        border: '0px solid transparent' // fix firefox/chrome/opera rendering\n    })\n\n    /**\n     * @param  {Number} i\n     * @return {Object}\n     */\n    getAnimationStyle = i => {\n        const size = this.props.size;\n        let animationName = animations[size];\n\n        if (!animationName) {\n            const keyframes = {\n                '75%': {\n                    opacity: 0.7,\n                },\n                '100%': {\n                    transform: `translate(${-4 * size}px, ${-size / 4}px)`,\n                },\n            };\n            animationName = animations[size] = insertKeyframesRule(keyframes);\n        }\n\n        const animation = [animationName, '1s', i*0.25 + 's', 'infinite', 'linear'].join(' ');\n        const animationFillMode = 'both';\n\n        return {\n            animation: animation,\n            animationFillMode: animationFillMode\n        };\n    }\n\n    getStyle = i => {\n        if (i == 1) {\n            const s1 = `${this.props.size}px solid transparent`;\n            const s2 =  `${this.props.size}px solid ${this.props.color}`;\n\n            return {\n                width: 0,\n                height: 0,\n                borderRight: s1,\n                borderTop: s2,\n                borderLeft: s2,\n                borderBottom: s2,\n                borderRadius: this.props.size,\n            };\n        }\n\n        return assign(\n            this.getBallStyle(i),\n            this.getAnimationStyle(i),\n            {\n                width: 10,\n                height: 10,\n                transform: `translate(0, ${-this.props.size / 4}px)`,\n                position: 'absolute',\n                top: 25,\n                left: 100,\n            }\n        );\n    }\n\n    renderLoader = loading => {\n        if (loading) {\n            const style = {\n                position: 'relative',\n                fontSize: 0\n            };\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (propTypes && ptKeys) {\n\t\t\t\tconst klen = ptKeys.length;\n\t\t\t\tfor (let i = 0; i < klen; i++) {\n\t\t\t\t\tdelete props[ptKeys[i]];\n\t\t\t\t}\n\t\t\t}\n\n            return (\n\t\t\t\t<div {...props}>\n                    <div style={style}>\n                        <div style={this.getStyle(1)}/>\n                        <div style={this.getStyle(2)}/>\n                        <div style={this.getStyle(3)}/>\n                        <div style={this.getStyle(4)}/>\n                        <div style={this.getStyle(5)}/>\n                    </div>\n                </div>\n            );\n        }\n\n        return null;\n    }\n\n    render() {\n        return this.renderLoader(this.props.loading);\n    }\n}\n"]}